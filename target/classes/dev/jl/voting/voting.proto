syntax = "proto3";

option java_package = "com.voting.proto";
option java_outer_classname = "VotingProto";

message LoginRequest {
  string username = 1;
  string password = 2;
}

message LoginResponse {
  bool success = 1;
  string message = 2;
  bool isAdmin = 3;
}

message CandidateListRequest {
}

message Candidate {
  int32 id = 1;
  string name = 2;
}

message CandidateListResponse {
  repeated Candidate candidates = 1;
  bool votingOpen = 2;
}

message VoteRequest {
  string username = 1;
  int32 candidateId = 2;
}

message VoteResponse {
  bool success = 1;
  string message = 2;
}

message AddCandidateRequest {
  string candidateName = 1;
}

message RemoveCandidateRequest {
  int32 candidateId = 1;
}

message AdminResponse {
  bool success = 1;
  string message = 2;
}

message BroadcastRequest {
  string message = 1;
}

message ResultsRequest {
}

message CandidateResult {
  string name = 1;
  int32 votes = 2;
  double percentage = 3;
}

message ResultsResponse {
  repeated CandidateResult results = 1;
  string winner = 2;
  int32 totalVotes = 3;
}